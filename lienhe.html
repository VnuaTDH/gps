<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thành Viên Nhóm 2</title>
  <meta property="og:title" content="Liên Hệ Nhóm 2 - GPS Tracker">
  <meta property="og:description" content="Liên hệ với Nhóm 2 - Học Viện Nông Nghiệp Việt Nam để biết thêm thông tin về GPS Tracker.">
  <meta property="og:image" content="./images/hvnn.png">
  <meta property="og:url" content="URL_TRANG_WEB_CỦA_BẠN">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <meta name="description" content="Liên hệ với Nhóm 2 - Học Viện Nông Nghiệp Việt Nam để biết thêm thông tin về GPS Tracker.">
  <meta name="keywords" content="GPS Tracker, Liên Hệ, Nhóm 2, Học Viện Nông Nghiệp Việt Nam, bản đồ, device">
  <script type="module" src="./login/firebase-config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="./styles/lienhe.css" />
</head>
<body>
  <header class="header">
    <div class="logo-container">
      <img src="./images/hvnn.png" alt="Logo Học Viện Nông Nghiệp Việt Nam">
    </div>
    <div class="header-title">
      <h1>GPS Nhóm 2</h1>
    </div>
    <nav class="main-menu">
      <div class="menu-toggle" onclick="toggleMenu()" aria-label="Mở menu điều hướng">
        <i class="fas fa-bars"></i>
      </div>
      <ul style="font-size: 20px;" id="nav-menu">
        <li ><a href="map.html">Bản Đồ</a></li>
        <li><a href="device.html">Thiết Bị</a></li>
        <li><a href="lienhe.html">Liên Hệ</a></li>
      </ul>
    </nav>
    <!-- Nút chuyển chế độ -->
  <button class="mode-toggle" aria-label="Chuyển chế độ tối/sáng">
    <i class="fas fa-adjust"></i>
  </button>
  </header>

  <div id="contact" class="contact-info">
    <h2>Thông Tin Liên Hệ</h2>
    <p>Nếu gặp vấn đề ở bước nào, hãy liên hệ với chúng tôi ngay tại đây!</p>
    <div class="team-members">
      <div class="member-card">
        <h3>Đỗ Minh Hiếu</h3>
        <h3>670411</h3>
        <p><strong>Nhóm Trưởng - Lập Trình</strong></p>
        <p><i class="fas fa-envelope"></i> dohieuvn.me@gmail.com</p>
        <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/MINHHIEURI/" target="_blank">Đỗ Minh Hiếu</a></p>
      </div>
      <div class="member-card">
        <h3>Nguyễn Tuấn Anh</h3>
        <h3>670321</h3>
        <p><strong>Vẽ 3D</strong></p>
        <p><i class="fas fa-envelope"></i> ntuananhtv2004@gmail.com</p>
        <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/profile.php?id=100063567334008" target="_blank">Nguyễn Tuấn Anh</a></p>
      </div>
      <div class="member-card">
        <h3>Nguyễn Quốc Chung</h3> <h3>670341</h3>
        <p><strong>Sơ Đồ Khối, Proteus</strong></p>
        <p><i class="fas fa-envelope"></i> chung03112004@gmail.com</p>
        <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/nguyen.quoc.chung.617324?mibextid=wwXIfr&rdid=m2B16VsqtbHZAu7W&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F18sp9rc4SV%2F%3Fmibextid%3DwwXIfr#" target="_blank">Nguyễn Quốc Chung</a></p>
      </div>
      <div class="member-card">
        <h3>Nguyễn Minh An</h3>
        <h3>670311</h3>
        <p><strong>Giới Thiệu Về Thiết Bị</strong></p>
        <p><i class="fas fa-envelope"></i> nguyenxuanbac144@gmail.com</p>
        <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/profile.php?id=100051294976752&rdid=8YcdWWzLwQQCGiR6&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1Hh7sjdpb3%2F#" target="_blank">Nguyễn Minh An</a></p>
      </div>
      <div class="member-card">
        <h3>Nguyễn Phương Nam</h3> <h3>670499</h3>
        <p><strong>Giới Thiệu Phần Cứng, Phần Mềm</strong></p>
        <p><i class="fas fa-envelope"></i> dohieuvn.me@gmail.com</p>
        <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/MINHHIEURI/" target="_blank">Nguyễn Phương Nam</a></p>
      </div>
    </div>
  </div>

  <div class="map-container">
    <h2>Vị Trí Trường Học</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d232.78846072635974!2d105.93375573183273!3d21.008049681838354!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135a8d1cd746d21%3A0x9b41a16963e24146!2zMlc1TSs2SDcsIFRyw6J1IFF14buzLCBHaWEgTMOibSwgSMOgIE7hu5lpLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2s!4v1740145720751!5m2!1svi!2s"
            allowfullscreen="" 
            loading="lazy">
    </iframe>
    <div class="chat-container">
      <div class="chat-toggle">
        <i class="fas fa-comments"></i> Liên Hệ
      </div>
      <div class="chat-box" id="chatBox">
        <div class="chat-header">
          <h4 t >Liên Hệ Với Chúng Tôi</h4>
          <span class="chat-close">×</span>
        </div>
        <form class="contact-form" id="contactForm">
          <input type="text" name="name" placeholder="Họ tên" required>
          <input type="email" name="email" placeholder="Email" required>
          <textarea name="message" placeholder="Tin nhắn" required></textarea>
          <button type="submit">Gửi</button>
        </form>
      </div>
    </div>
    <button class="back-to-top" onclick="scrollToTop()">↑</button>
    <script>
      function toggleMenu() {
        var menu = document.getElementById('nav-menu');
        menu.classList.toggle('show');
      }
    
      window.onscroll = function() {
        var btn = document.querySelector('.back-to-top');
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
          btn.classList.add('show');
        } else {
          btn.classList.remove('show');
        }
      };
    
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    </script>
    
    <script type="module">
      import { database, ref, push, set } from './login/firebase-config.js';
    
      console.log('Database:', database);
    
      function toggleChat() {
        var chatBox = document.getElementById('chatBox');
        chatBox.classList.toggle('show');
        console.log('Toggle chat called');
      }
    
      document.querySelector('.chat-toggle').addEventListener('click', toggleChat);
      document.querySelector('.chat-close').addEventListener('click', toggleChat);
    
function submitContactForm(e) {
  e.preventDefault();
  const form = e.target;
  const now = new Date();
  const formattedDate =
  now.getDate() + "/" + (now.getMonth() + 1) + "/" + now.getFullYear() +
  " " + now.getHours() + ":" + now.getMinutes() + ":" + now.getSeconds();
  const data = {
    name: form.name.value,
    email: form.email.value,
    message: form.message.value,
    timestamp: formattedDate
  };
  const contactsRef = ref(database, 'Lienhe');
  push(contactsRef, data)
  .then(() => {
      Swal.fire({
        title: 'Thành công!',
        text: 'Tin nhắn đã được gửi!',
        icon: 'success',
        confirmButtonText: 'Đóng'
      });
      form.reset();
      toggleChat();
    })
    .catch(error => {
      Swal.fire({
        title: 'Lỗi!',
        text: error.message,
        icon: 'error',
        confirmButtonText: 'Đóng'
      });
    });
}
    document.getElementById('contactForm').addEventListener('submit', submitContactForm);
    // Xử lý chuyển chế độ tối/sáng
    const modeToggle = document.querySelector('.mode-toggle');
    const body = document.body;

    function toggleDarkMode() {
      body.classList.toggle('dark-mode');
      const isDarkMode = body.classList.contains('dark-mode');
      modeToggle.innerHTML = `<i class="fas fa-${isDarkMode ? 'moon' : 'sun'}"></i>`;
      localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
    }

    // Khôi phục trạng thái từ localStorage
    if (localStorage.getItem('darkMode') === 'enabled') {
      body.classList.add('dark-mode');
      modeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    }

    modeToggle.addEventListener('click', toggleDarkMode);
    const backToTop = document.querySelector('.back-to-top');
    const chatBox = document.querySelector('.chat-box');

    function updateBackToTopPosition() {
        if (chatBox.classList.contains('show')) {
            backToTop.classList.add('chat-open');
            backToTop.classList.remove('chat-closed');
        } else {
            backToTop.classList.add('chat-closed');
            backToTop.classList.remove('chat-open');
        }
  }

  // Watch chat box visibility changes
  const observer = new MutationObserver((mutations) => {
      mutations.forEach(() => {
          updateBackToTopPosition();
      });
  });

  observer.observe(chatBox, { attributes: true, attributeFilter: ['class'] });

  // Initial position check
  updateBackToTopPosition();
    </script>
    </body>
    </html>